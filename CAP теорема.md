# CAP теорема

Необходимо написать к каким системам по CAP теореме относятся перечисленные БД и почему:
MongoDB, MSSQL, Cassandra.

**MongoDB**

Mongo DB в призме CAP теоремы является CP системой, так как:
1. Система характеризуется одним Master узлом (single master), что обеспечивает согласованность системы (strong consistency) - C.
2. Система может быть не доступна, если master упал, и происходит процесс перевыбора нового master, то есть система не A.
3. Система в состоянии продолжать работу в случае разделения сети, просто выбрав для каждого отдельного сегмента новый master, то есть система устойчива к распределению - P.

**MSSQL**

MSSQL в контексте CAP теоремы является CP системой, потому что:
1. Как распределенную БД мы можем рассмотреть ее в виде master-slave, что означает, что все запросы на чтение/запись будут приходить всегда на master - это и обеспечивает согласованность по умолчанию - C.
2. Распределенная система в конфигурации master-slave также обеспечивается доступность до тех пор пока мастер работает (тут конечно все для RDMS это очень условно) - то есть система A
3. Опять же так как все запросы попадают на один master, то свойство устойчивости к распределению никак не может соблюдаться, то есть по умолчанию такая распределенная система не P. 

> Надо отметить, что в случае с RDMS в теории можно ее привести и к виду CP и AP. 
 
**Cassandra**

Cassandra в призме теоремы CAP является AP системой, потому, что :
1. Cassandra используется схему репликации master-master потому свойство согласованности легко может быть скомпрометировано, так как запросы на запись/чтения приходят на оба узла и нельзя гарантировать согласовать - не C.
2. Так как все узлы master, то система будет доступна в любой момент. - A.
3. По той же причине системе не страшен распад на два сегмента, так как каждый master может работать самостоятельно - P.
